{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Main from '../../component/Main';\nimport Link from 'next/link';\nimport MarkDown from '../../component/Markdown';\nimport { Row, Col, Image } from 'react-bootstrap';\nimport { fetchPostDetail, fetchClassifyList, fetchPostList } from '../../api';\nimport { arrGroup } from '../../utils/utils';\nimport moment from 'moment';\n\nclass Post extends React.Component {\n  static async getInitialProps({\n    ctx: {\n      pathname,\n      query\n    }\n  }) {\n    const _id = query.id;\n    const resDetail = await fetchPostDetail({\n      _id\n    });\n    return {\n      postDetail: resDetail.data\n    };\n  }\n\n  render() {\n    const {\n      postDetail\n    } = this.props;\n    return __jsx(Main, null, __jsx(\"div\", {\n      style: {\n        paddingTop: 20\n      }\n    }, __jsx(\"h3\", {\n      style: {\n        textAlign: 'center',\n        fontSize: 16,\n        fontWeight: 700\n      }\n    }, postDetail.title), __jsx(\"h4\", {\n      style: {\n        fontSize: 12,\n        color: '#666',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }\n    }, __jsx(\"span\", null, __jsx(\"i\", {\n      className: \"iconfont icon-user\"\n    }), \"\\xA0\", postDetail.author), __jsx(\"span\", {\n      style: {\n        marginLeft: 15\n      }\n    }, __jsx(\"i\", {\n      className: \"iconfont icon-riqi2\"\n    }), \"\\xA0\", moment(postDetail.createTime).format('YYYY-MM-DD HH:mm:ss')), __jsx(\"span\", {\n      style: {\n        marginLeft: 15\n      }\n    }, __jsx(\"i\", {\n      className: \"iconfont icon-eye\"\n    }), \"\\xA0\", postDetail.watch))), __jsx(MarkDown, {\n      dataSouce: postDetail.content\n    }), __jsx(\"div\", null, postDetail.prevData.length > 0 && __jsx(\"div\", {\n      style: {\n        marginTop: 20\n      }\n    }, __jsx(\"span\", null, \"\\u4E0A\\u4E00\\u7BC7\\uFF1A\"), __jsx(Link, {\n      href: {\n        pathname: '/post/detail',\n        query: {\n          id: postDetail.prevData[0]._id\n        }\n      }\n    }, __jsx(\"span\", {\n      style: {\n        color: '#09b597',\n        cursor: 'pointer'\n      }\n    }, postDetail.prevData[0].title)))), __jsx(\"div\", {\n      style: {\n        marginTop: 20\n      }\n    }, postDetail.nextData.length > 0 && __jsx(\"div\", null, __jsx(\"span\", null, \"\\u4E0B\\u4E00\\u7BC7\\uFF1A\"), __jsx(Link, {\n      href: {\n        pathname: '/post/detail',\n        query: {\n          id: postDetail.nextData[0]._id\n        }\n      }\n    }, __jsx(\"span\", {\n      style: {\n        color: '#09b597',\n        cursor: 'pointer'\n      }\n    }, postDetail.nextData[0].title)))), postDetail.guessData.length > 0 && __jsx(\"div\", {\n      style: {\n        marginTop: 20\n      }\n    }, __jsx(\"h3\", {\n      style: {\n        color: '#09b597',\n        fontWeight: 700\n      }\n    }, \"\\u731C\\u4F60\\u559C\\u6B22\"), __jsx(\"hr\", null), __jsx(Row, {\n      style: {\n        marginTop: 20,\n        padding: '0 15px'\n      }\n    }, postDetail.guessData.map(item => __jsx(Col, {\n      xs: 3,\n      key: item._id\n    }, __jsx(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex'\n      }\n    }, __jsx(Link, {\n      href: {\n        pathname: '/post/detail',\n        query: {\n          id: item._id\n        }\n      }\n    }, __jsx(Image, {\n      src: item.imgUrl,\n      thumbnail: true,\n      width: 80,\n      height: 80,\n      style: {\n        cursor: 'pointer',\n        flexShrink: 0\n      }\n    })), __jsx(\"div\", {\n      style: {\n        flexShrink: 1,\n        paddingLeft: 8\n      }\n    }, __jsx(\"div\", null, __jsx(Link, {\n      href: {\n        pathname: '/post/detail',\n        query: {\n          id: item._id\n        }\n      }\n    }, __jsx(\"span\", {\n      style: {\n        fontSize: 13,\n        color: '#09b597',\n        cursor: 'pointer',\n        lineHeight: '15px !import',\n        display: 'inline'\n      }\n    }, item.title))), __jsx(\"div\", null, __jsx(\"span\", {\n      style: {\n        fontSize: 10,\n        color: '#999',\n        // lineHeight: '15px',\n        display: 'inline'\n      }\n    }, (item.text || '').slice(0, 20))))))))));\n  }\n\n}\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}